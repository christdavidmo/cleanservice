{% extends "layouts/base.html" %}

{% block stylesheets %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content %}


    <div class="image">
       <p class="paragraphe1"> Offrez-vous un grand <br> ménage </p>
       <p class="paragraphe2"> Des professionnels du nettoyage  à <br>
                               votre service dans la région de Dakar </p>

        <a href="{{ url_for('main.index') }}#devis"> <button>Demander un devis</button></a>
    </div>

        <div class="index-contact">
            
                <p> Appelez au  {{numeros.number}} </p>
           
            <!-- <p> Appelez au  77 457 78 90 </p> -->
        </div>

        <div class="index-pourquoi_nous">
            <p>Pourquoi nous ?</p>

            <div class="container-index-pourquoi_nous">
                {% for raison in why_us %}
                    <div class="case"> {{ raison.reason }} </div>
                {% endfor %}

                <!-- <div class="case">Nettoyage <br> professionnel <br> et certifié</div>
                <div class="case">Nettoyage <br> soucieux de <br> l'environnement</div>
                
                <div class="case-3 case">100   %       <br> de satisfaction  <br> garantie</div>
                <div class="case-4 case">Disponibilité  <br>  le soir et   <br> le week-end</div> -->
            </div>
        </div>


        <div class="index-services">
            <p class="index-services-title">Nos services</p>

            <div class="separate-line">
                {% for service in services %}
                    <div class="service-card">
                        
                        <div class="service-texte"> {{ service.nameService }}</div>
                        <div class="service-image" style="background-image: url('{{ url_for('static', filename=service['imageservice'].replace('\\', '/')) }}');">
                        </div>
                        
                    </div>
                {% endfor %}

                <!-- <div class="line1">
                    <div class="line1-p1 part1"> <div class="coté1"> Société de <br> nettoyage  </div>  <div class="coté2"> </div> </div> 
                    <div class="line1-p2 part2"> <div class="coté1"> Service de <br> nettoyage  </div>  <div class="coté2"> </div> </div>
                </div>

                <div class="line2">
                    <div class="line2-p1 part1"> <div class="coté1"> Nettoyage de <br> fenetre  </div>   <div class="coté2"> </div> </div> 
                    <div class="line2-p2 part2"> <div class="coté1"> Netoyage en  <br> entreprise </div> <div class="coté2"> </div> </div>
                </div>

                <div class="line3">
                    <div class="line3-p1 part1"> <div class="coté1"> Nettoyage <br> avant/apres <br> déménagement </div> <div class="coté2"> </div> </div> 
                    <div class="line3-p2 part2"> <div class="coté1">Nettoyage <br> moquette </div>                <div class="coté2"> </div></div>
                </div> -->

            </div>

        </div>


       <div class="parent-message-container">

            <p class="message-container-title "> laissez-nous un message </p>

            <div class="message-container">

            
                <button class="buttons btn-prevText" onclick="prevText()">
                    <i class="fa-solid fa-left-long"></i>
                </button>
            
                <div class="message-content" >
                    {% for messages in messages %}
                        <div class="message" data-index="{{ loop.index0 }}" style="display: none;"> 
                            {{ messages.content }}
                    </div>
                    {% endfor %}
                    
                </div>
        
                <button class="buttons btn-nextText" onclick="nextText()">
                    <i class="fa-solid fa-right-long"></i>
                </button>
            </div>
            
            
       </div>




        <div   class="localisation-and-formDevis">
            
            <p class="localisation-and-formDevis-tille">Contactez-nous pour un devis gratuit !</p>

            <div class="container-parts">
                
                <div class="partie-one"> 
                    <div class="map-container">
                        <iframe 
                            width="100%" 
                            height="100%" 
                            frameborder="0" 
                            style="border:0" 
                            allowfullscreen 
                            referrerpolicy="no-referrer-when-downgrade"
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6040.315140052112!2d-17.465554236700683!3d14.69455626225353!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xec17292246d4da9%3A0x438c5fd7d91b27a2!2sPiscine%20Olympique%20Nationale%20de%20Dakar!5e0!3m2!1sfr!2ssn!4v1740018398940!5m2!1sfr!2ssn" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade">
                        </iframe>
                    </div>
                </div>
                
                
                <div class="partie-two">
                   

                    <form id="devis" class="form-devis" action="">
                        
                        <div class="form-group">
                                <div class="form-1 part-form">
                                    <label for="nom">Nom</label> <br>
                                    <input type="text" id="nom" name="nom" placeholder=""> 
                                    
                                </div>

                                <div class="form-2 part-form">
                                    <label for="prenoms">Prenoms</label> <br>
                                    <input type="text" id="prenoms" name="prenoms" placeholder="">
                                </div>
                        </div>

                        <div  class="form-3 part-form">
                            <label for="email">Email</label> <br>
                            <input type="email" id="email" name="email" placeholder="">
                        </div>

                        <div  class="form-4 part-form">
                            <label for="objet">Objet</label> <br>
                            <input type="text" id="objet" name="objet" placeholder="">
                        </div>

                        <div  class="form-5 part-form">
                            <label for="message">Message</label> <br>
                            <textarea id="message" name="message" placeholder=""></textarea>
                        </div>
                       
                        <button>Envoyer</button>
                    </form>
            </div>

        </div>


<script>
    let currentIndex = 0 ;
    let messages = document.querySelectorAll(".message") ;
    let TotalMessage = messages.length ;

    let btnprevText = document.querySelector(".btn-prevText");
    let btnnextText = document.querySelector(".btn-nextText");

      

    function showMessage(index){
        messages.forEach(msg => msg.style.display ="none") ;
        messages[index].style.display="block" ;

        btnprevText.disabled = index === currentIndex < 0 ;
        btnnextText.disabled = index === currentIndex -1 ;


    }


    function nextText(){
        if ( currentIndex < TotalMessage -1 ){
            currentIndex++ ;
        }
        showMessage(currentIndex) ;
    }

    function prevText(){
        if ( currentIndex > 0){
            currentIndex--  ;
        }
        showMessage(currentIndex) ;
    }

    showMessage(currentIndex);


    // Défilement automatique toutes les 3 secondes
    let autoScroll = setInterval(nextText, 3000);

    // Pause du défilement automatique lorsqu'on clique sur un bouton
    document.querySelectorAll(".buttons").forEach(button => {
        button.addEventListener("click", () => {
            clearInterval(autoScroll);
            autoScroll = setInterval(nextText, 3000); // Relance après interaction
        });
    });
</script>
{% endblock %}
